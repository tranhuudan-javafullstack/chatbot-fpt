{"ast":null,"code":"import\"./FileDetail.scss\";import word from\"../../assets/images/word.png\";import Chip from\"../chip/Chip\";import{useEffect,useState}from\"react\";import{getDetailFilesKnowledge}from\"../../services/KnowledgeService\";import{decryptToken,formatBytes}from\"../../utils/Functions\";import{useDispatch}from\"react-redux\";import{useParams}from\"react-router-dom\";import Loading from\"../loading/Loading\";import{v4 as uuidv4}from'uuid';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function FileDetail(){const{knowledgeId,fileId}=useParams();const accessToken=decryptToken(localStorage.getItem('access_token'));const dispatch=useDispatch();const[isLoading,setIsLoading]=useState(true);const[fileDetail,setFileDetail]=useState(null);useEffect(()=>{fetchData();},[accessToken]);const fetchData=async()=>{try{const data=await getDetailFilesKnowledge(accessToken,knowledgeId,fileId);setFileDetail(data);// dispatch(saveKnowledges(data.knowledges));\nsetIsLoading(false);}catch(error){console.error('Error fetching knowledges:',error.message);}};return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"file_detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file_detail__header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file_detail__url\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"root_url\",children:[\"Ki\\u1EBFn th\\u1EE9c / Danh s\\xE1ch t\\xE0i li\\u1EC7u / \",/*#__PURE__*/_jsx(\"span\",{className:\"target_url\",children:fileDetail.file.name})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"file_detail__infomation\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file_image\",children:/*#__PURE__*/_jsx(\"img\",{src:word,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"file_info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file__title\",children:/*#__PURE__*/_jsx(\"span\",{className:\"file__title--style\",children:fileDetail.file.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"file__tag\",children:[/*#__PURE__*/_jsx(Chip,{text:\"\".concat(fileDetail.file.chunk_count,\" \\u0111o\\u1EA1n\")}),/*#__PURE__*/_jsx(Chip,{text:\"\".concat(formatBytes(fileDetail.file.size))})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file_detail__body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"file__content\",children:fileDetail.chunks.map(chunk=>{return/*#__PURE__*/_jsx(\"p\",{className:\"chunk\",children:chunk.chunks},uuidv4());})})})]})});}","map":{"version":3,"names":["word","Chip","useEffect","useState","getDetailFilesKnowledge","decryptToken","formatBytes","useDispatch","useParams","Loading","v4","uuidv4","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FileDetail","knowledgeId","fileId","accessToken","localStorage","getItem","dispatch","isLoading","setIsLoading","fileDetail","setFileDetail","fetchData","data","error","console","message","children","className","file","name","src","alt","text","concat","chunk_count","size","chunks","map","chunk"],"sources":["/Users/huudan/Development/chatbot.com/fe/src/components/file_detail/FileDetail.js"],"sourcesContent":["import \"./FileDetail.scss\"\nimport word from \"../../assets/images/word.png\"\nimport Chip from \"../chip/Chip\";\nimport {useEffect, useState} from \"react\";\nimport {getDetailFilesKnowledge} from \"../../services/KnowledgeService\";\nimport {decryptToken, formatBytes} from \"../../utils/Functions\";\nimport {useDispatch} from \"react-redux\";\nimport {useParams} from \"react-router-dom\";\nimport Loading from \"../loading/Loading\";\nimport {v4 as uuidv4} from 'uuid';\n\nexport default function FileDetail() {\n    const { knowledgeId, fileId } = useParams();\n    const accessToken = decryptToken(localStorage.getItem('access_token'));\n    const dispatch = useDispatch();\n    const [isLoading, setIsLoading] = useState(true);\n    const [fileDetail, setFileDetail] = useState(null);\n    useEffect(() => {\n        fetchData();\n    }, [accessToken]);\n    const fetchData = async () => {\n        try {\n            const data = await getDetailFilesKnowledge(accessToken, knowledgeId, fileId);\n            setFileDetail(data);\n            // dispatch(saveKnowledges(data.knowledges));\n            setIsLoading(false);\n        } catch (error) {\n            console.error('Error fetching knowledges:', error.message);\n        }\n    };\n    return (\n        <>\n            {isLoading ? <Loading/> : <div className={\"file_detail\"}>\n                <div className=\"file_detail__header\">\n                    <div className=\"file_detail__url\">\n                        <span className={\"root_url\"}>Kiến thức / Danh sách tài liệu / <span className={\"target_url\"}>{fileDetail.file.name }</span></span>\n                    </div>\n                    <div className=\"file_detail__infomation\">\n                        <div className=\"file_image\"><img src={word} alt=\"\"/></div>\n                        <div className=\"file_info\">\n                            <div className=\"file__title\">\n                            <span className={\"file__title--style\"}>\n                                {fileDetail.file.name}\n                            </span>\n                            </div>\n                            <div className=\"file__tag\">\n                                <Chip text={`${fileDetail.file.chunk_count} đoạn`}/>\n                                <Chip text={`${formatBytes(fileDetail.file.size)}`}/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"file_detail__body\">\n                    <div className=\"file__content\">\n                        {fileDetail.chunks.map((chunk)=>{\n                            return  <p key={uuidv4()} className=\"chunk\">{chunk.chunks}</p>\n                        })}\n                    </div>\n                </div>\n            </div>}\n        </>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}