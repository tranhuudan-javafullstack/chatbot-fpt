{"ast":null,"code":"var _jsxFileName = \"/Users/huudan/Development/chatbot.com/fe/src/page/chat/ChatPage.js\",\n  _s = $RefreshSig$();\nimport \"./ChatPage.scss\";\nimport ChatSideBar from \"../../components/chat_side_bar/ChatSideBar\";\nimport { Outlet, useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { decryptToken } from \"../../utils/Functions\";\nimport { useDispatch } from \"react-redux\";\nimport { getChatsBot } from \"../../services/ChatBotService\";\nimport { saveChatsBot } from \"../../store/actions/ChatAction\";\nimport Loading from \"../../components/loading/Loading\";\nimport BotWelcome from \"../../components/bot_welcome/BotWelcome\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ChatPage() {\n  _s();\n  const {\n    botId,\n    chatId\n  } = useParams();\n  const [isLoading, setIsLoading] = useState(true);\n  const accessToken = decryptToken(localStorage.getItem('access_token'));\n  const dispatch = useDispatch();\n  useEffect(() => {\n    fetchData();\n  }, [accessToken]);\n  const fetchData = async () => {\n    try {\n      const data = await getChatsBot(accessToken, botId);\n      dispatch(saveChatsBot(data));\n      setIsLoading(false);\n    } catch (error) {\n      console.error('Error fetching bots:', error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 26\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat\",\n      children: [/*#__PURE__*/_jsxDEV(ChatSideBar, {\n        botId: botId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"safe_area chat_safe\",\n        style: {\n          flex: 1\n        },\n        children: [!chatId && /*#__PURE__*/_jsxDEV(BotWelcome, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 39\n    }, this)\n  }, void 0, false);\n}\n_s(ChatPage, \"jvt+gUBC6Vn3CdM8BBP9NO/p2ug=\", false, function () {\n  return [useParams, useDispatch];\n});\n_c = ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");","map":{"version":3,"names":["ChatSideBar","Outlet","useParams","useEffect","useState","decryptToken","useDispatch","getChatsBot","saveChatsBot","Loading","BotWelcome","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatPage","_s","botId","chatId","isLoading","setIsLoading","accessToken","localStorage","getItem","dispatch","fetchData","data","error","console","message","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","flex","_c","$RefreshReg$"],"sources":["/Users/huudan/Development/chatbot.com/fe/src/page/chat/ChatPage.js"],"sourcesContent":["import \"./ChatPage.scss\";\nimport ChatSideBar from \"../../components/chat_side_bar/ChatSideBar\";\nimport {Outlet, useParams} from \"react-router-dom\";\nimport {useEffect, useState} from \"react\";\nimport {decryptToken} from \"../../utils/Functions\";\nimport {useDispatch} from \"react-redux\";\nimport {getChatsBot} from \"../../services/ChatBotService\";\nimport {saveChatsBot} from \"../../store/actions/ChatAction\";\nimport Loading from \"../../components/loading/Loading\";\nimport BotWelcome from \"../../components/bot_welcome/BotWelcome\";\n\nexport default function ChatPage() {\n    const { botId, chatId } = useParams();\n    const [isLoading, setIsLoading] = useState(true);\n    const accessToken = decryptToken(localStorage.getItem('access_token'));\n    const dispatch = useDispatch();\n    useEffect(() => {\n        fetchData();\n    }, [accessToken]);\n    const fetchData = async () => {\n        try {\n            const data = await getChatsBot(accessToken, botId);\n            dispatch(saveChatsBot(data));\n            setIsLoading(false);\n        } catch (error) {\n            console.error('Error fetching bots:', error.message);\n        }\n    };\n    return (\n        <>\n            {isLoading ? <Loading/> : <div className={\"chat\"}>\n                <ChatSideBar botId={botId}/>\n                <div className={\"safe_area chat_safe\"} style={{flex: 1}}>\n                    {/*<ChatArea/>*/}\n                    {/*<DocumentViewer/>*/}\n                    {!chatId && <BotWelcome/> }\n                    <Outlet/>\n                </div>\n            </div>}\n        </>\n\n    )\n}"],"mappings":";;AAAA,OAAO,iBAAiB;AACxB,OAAOA,WAAW,MAAM,4CAA4C;AACpE,SAAQC,MAAM,EAAEC,SAAS,QAAO,kBAAkB;AAClD,SAAQC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,SAAQC,YAAY,QAAO,uBAAuB;AAClD,SAAQC,WAAW,QAAO,aAAa;AACvC,SAAQC,WAAW,QAAO,+BAA+B;AACzD,SAAQC,YAAY,QAAO,gCAAgC;AAC3D,OAAOC,OAAO,MAAM,kCAAkC;AACtD,OAAOC,UAAU,MAAM,yCAAyC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjE,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAC/B,MAAM;IAAEC,KAAK;IAAEC;EAAO,CAAC,GAAGhB,SAAS,CAAC,CAAC;EACrC,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAMiB,WAAW,GAAGhB,YAAY,CAACiB,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC;EACtE,MAAMC,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAC9BH,SAAS,CAAC,MAAM;IACZsB,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACJ,WAAW,CAAC,CAAC;EACjB,MAAMI,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACA,MAAMC,IAAI,GAAG,MAAMnB,WAAW,CAACc,WAAW,EAAEJ,KAAK,CAAC;MAClDO,QAAQ,CAAChB,YAAY,CAACkB,IAAI,CAAC,CAAC;MAC5BN,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC,OAAOO,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAACE,OAAO,CAAC;IACxD;EACJ,CAAC;EACD,oBACIjB,OAAA,CAAAE,SAAA;IAAAgB,QAAA,EACKX,SAAS,gBAAGP,OAAA,CAACH,OAAO;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,gBAAGtB,OAAA;MAAKuB,SAAS,EAAE,MAAO;MAAAL,QAAA,gBAC7ClB,OAAA,CAACZ,WAAW;QAACiB,KAAK,EAAEA;MAAM;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eAC5BtB,OAAA;QAAKuB,SAAS,EAAE,qBAAsB;QAACC,KAAK,EAAE;UAACC,IAAI,EAAE;QAAC,CAAE;QAAAP,QAAA,GAGnD,CAACZ,MAAM,iBAAIN,OAAA,CAACF,UAAU;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eACzBtB,OAAA,CAACX,MAAM;UAAA8B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC,gBACR,CAAC;AAGX;AAAClB,EAAA,CA/BuBD,QAAQ;EAAA,QACFb,SAAS,EAGlBI,WAAW;AAAA;AAAAgC,EAAA,GAJRvB,QAAQ;AAAA,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}