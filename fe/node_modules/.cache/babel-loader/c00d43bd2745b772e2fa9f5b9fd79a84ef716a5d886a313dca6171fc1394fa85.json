{"ast":null,"code":"var _jsxFileName = \"/Users/huudan/Development/chatbot.com/fe/src/components/chat_side_bar/ChatSideBar.js\",\n  _s = $RefreshSig$();\nimport \"./ChatSideBar.scss\";\nimport ChatSideBarItem from \"../chat_side_bar_item/ChatSideBarItem\";\nimport { useState } from \"react\";\nimport { createBot, updateBot } from \"../../services/BotsService\";\nimport { actionUpdateBot, addBot } from \"../../store/actions/BotsAction\";\nimport { createChatBot } from \"../../services/ChatBotService\";\nimport { decryptToken } from \"../../utils/Functions\";\nimport { addChat } from \"../../store/actions/ChatAction\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport BotItem from \"../bot_item/BotItem\";\nimport { useNavigate } from \"react-router-dom\";\nimport sidebar from \"../../assets/icons/sidebar.png\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ChatSideBar({\n  botId\n}) {\n  _s();\n  const [index, setIndex] = useState(-1);\n  const [newChat, setNewChat] = useState(\"\");\n  const accessToken = decryptToken(localStorage.getItem('access_token'));\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const chatsBot = useSelector(state => state.chatsBotReducer.chats);\n  const chats = chatsBot ? chatsBot.chats : [];\n  const [showSideBar, setShowSideBar] = useState(true);\n  const handleCreateNewChat = async () => {\n    try {\n      const data = await createChatBot(newChat, accessToken, botId);\n      dispatch(addChat(data));\n      setNewChat(\"\");\n    } catch (error) {\n      console.error('Error create bot:', error.message);\n    }\n  };\n  const handleShowSideBar = () => {\n    setShowSideBar(!showSideBar);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: handleShowSideBar,\n      className: `btn_side_bar ${showSideBar ? \"\" : \"btn_side_bar--transform\"} `,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: sidebar,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `drawbar side_bar ${showSideBar ? \"\" : \"side_bar--hidden\"}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"drawbar--padding\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"new_chat\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newChat,\n            onChange: e => setNewChat(e.target.value),\n            className: \"new_chat__input\",\n            placeholder: \"Nhập tên đoạn chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: handleCreateNewChat,\n            className: \"btn_create_chat\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"T\\u1EA1o chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 88\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat__wrapper\",\n          children: chats.map((chatBot, i) => {\n            return /*#__PURE__*/_jsxDEV(ChatSideBarItem, {\n              title: chatBot.title,\n              botId: botId,\n              chatId: chatBot.chat_id,\n              index: i,\n              selectedIndex: index,\n              handleSelected: setIndex\n            }, chatBot.chat_id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 36\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => navigate(\"/\"),\n          className: \"btn_return_home\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-arrow-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Trang ch\\u1EE7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(ChatSideBar, \"e3VoAE4svk2Nz6vlsewyhjbOaFg=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n_c = ChatSideBar;\nvar _c;\n$RefreshReg$(_c, \"ChatSideBar\");","map":{"version":3,"names":["ChatSideBarItem","useState","createBot","updateBot","actionUpdateBot","addBot","createChatBot","decryptToken","addChat","useDispatch","useSelector","BotItem","useNavigate","sidebar","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatSideBar","botId","_s","index","setIndex","newChat","setNewChat","accessToken","localStorage","getItem","dispatch","navigate","chatsBot","state","chatsBotReducer","chats","showSideBar","setShowSideBar","handleCreateNewChat","data","error","console","message","handleShowSideBar","children","onClick","className","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","map","chatBot","i","title","chatId","chat_id","selectedIndex","handleSelected","_c","$RefreshReg$"],"sources":["/Users/huudan/Development/chatbot.com/fe/src/components/chat_side_bar/ChatSideBar.js"],"sourcesContent":["import \"./ChatSideBar.scss\";\nimport ChatSideBarItem from \"../chat_side_bar_item/ChatSideBarItem\";\nimport {useState} from \"react\";\nimport {createBot, updateBot} from \"../../services/BotsService\";\nimport {actionUpdateBot, addBot} from \"../../store/actions/BotsAction\";\nimport {createChatBot} from \"../../services/ChatBotService\";\nimport {decryptToken} from \"../../utils/Functions\";\nimport {addChat} from \"../../store/actions/ChatAction\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport BotItem from \"../bot_item/BotItem\";\nimport {useNavigate} from \"react-router-dom\";\nimport sidebar from \"../../assets/icons/sidebar.png\";\nexport default function ChatSideBar({botId}) {\n    const [index, setIndex] = useState(-1);\n    const [newChat, setNewChat] = useState(\"\");\n    const accessToken = decryptToken(localStorage.getItem('access_token'));\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const chatsBot = useSelector((state) => state.chatsBotReducer.chats);\n    const chats = chatsBot ? chatsBot.chats :[];\n    const [showSideBar, setShowSideBar] = useState(true);\n    const handleCreateNewChat = async () =>{\n        try {\n            const data = await createChatBot(newChat,accessToken, botId);\n            dispatch(addChat(data));\n            setNewChat(\"\");\n        } catch (error) {\n            console.error('Error create bot:', error.message);\n        }\n    }\n    const handleShowSideBar = () => {\n        setShowSideBar(!showSideBar);\n    }\n    return (\n        <>\n            <div onClick={handleShowSideBar} className={`btn_side_bar ${showSideBar ? \"\" :\"btn_side_bar--transform\"} `}>\n                <img src={sidebar} alt=\"\"/>\n            </div>\n            <div className={`drawbar side_bar ${showSideBar ? \"\" : \"side_bar--hidden\"}`}>\n                <div className=\"drawbar--padding\">\n                    <div className=\"new_chat\">\n                        <input type=\"text\" value={newChat} onChange={(e)=>setNewChat(e.target.value)} className={\"new_chat__input\"} placeholder={\"Nhập tên đoạn chat\"}/>\n                        <div onClick={handleCreateNewChat} className=\"btn_create_chat\"><span>Tạo chat</span></div>\n                    </div>\n                    <div className=\"chat__wrapper\">\n                        {chats.map((chatBot, i)=>{\n                            return <ChatSideBarItem key={chatBot.chat_id} title={chatBot.title} botId={botId} chatId={chatBot.chat_id} index={i} selectedIndex={index} handleSelected={setIndex}/>\n                        })}\n                    </div>\n                    <div onClick={()=>navigate(\"/\")} className=\"btn_return_home\">\n                        <i className=\"bi bi-arrow-left\"></i>\n                        <span>Trang chủ</span>\n                    </div>\n                </div>\n\n            </div>\n        </>\n\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}