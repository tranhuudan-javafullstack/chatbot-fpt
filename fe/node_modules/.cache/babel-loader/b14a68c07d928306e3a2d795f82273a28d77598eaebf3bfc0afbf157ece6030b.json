{"ast":null,"code":"var _jsxFileName = \"/Users/huudan/Development/chatbot.com/fe/src/components/upload_file_modal/UploadFileModal.js\",\n  _s = $RefreshSig$();\nimport \"./UploadFileModal.scss\";\nimport FileItem from \"../file_item/FileItem\";\nimport TextButtonIcon from \"../icon_text_button/TextButtonIcon\";\nimport { useRef, useState } from \"react\";\nimport Loading from \"../loading/Loading\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UploadFileModal({\n  toggleShow,\n  confirm\n}) {\n  _s();\n  const [files, setFiles] = useState([]);\n  const fileInputRef = useRef(null);\n  const [isProcess, setIsProcess] = useState(false);\n  const handleChooseFile = () => {\n    fileInputRef.current.click();\n  };\n  const uploadDocument = e => {\n    const files = e.target.files;\n    setFiles(prevFiles => [...prevFiles, ...files]);\n  };\n  const handleFileRemove = indexToRemove => {\n    setFiles(files.filter((_, index) => index !== indexToRemove));\n  };\n  const handleConfirm = async () => {\n    setIsProcess(true);\n    await confirm(files);\n    setIsProcess(false);\n  };\n  // useEffect(() => {\n  //     if (isProcess) {\n  //         const processFiles = async () => {\n  //             await confirm(files);\n  //             setIsProcess(false); // Turn off loading state after processing is done\n  //         };\n  //         processFiles();\n  //     }\n  // }, [isProcess, confirm, files]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new_bot__modal \",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"title_form\",\n        children: \"Th\\xEAm t\\xE0i li\\u1EC7u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"new_bot__modal-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: \"T\\u1EA3i l\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input__wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input_file\",\n              onChange: uploadDocument,\n              type: \"file\",\n              ref: fileInputRef,\n              multiple: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: handleChooseFile,\n              className: \"upload\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-cloud-arrow-up-fill\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-title\",\n                children: \"B\\u1EA5m \\u0111\\u1EC3 t\\u1EA3i l\\xEAn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-sub\",\n                children: \"T\\u1EA3i l\\xEAn file c\\xF3 d\\u1EA1ng TXT, DOC, PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"files_container\",\n            children: files.map((file, index) => /*#__PURE__*/_jsxDEV(FileItem, {\n              fileName: file.name,\n              deleteFile: () => handleFileRemove(index)\n            }, uuidv4(), false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 55\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), isProcess && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"process_data\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader_item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader_item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader_item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader_item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader_item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader_item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader_item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader_item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading_label\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"loading_label\",\n            children: \"\\u0110ang x\\u1EED l\\xFD d\\u1EEF li\\u1EC7u...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"new_bot__modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(TextButtonIcon, {\n          title: \"Hủy\",\n          onPress: toggleShow,\n          background: \"#FFFFFF\",\n          color: \"#1C1C1C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextButtonIcon, {\n          title: \"Xác nhận\",\n          onPress: handleConfirm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n_s(UploadFileModal, \"zffjZyKbVHmAd6A2QvYGWHs0lEs=\");\n_c = UploadFileModal;\nvar _c;\n$RefreshReg$(_c, \"UploadFileModal\");","map":{"version":3,"names":["FileItem","TextButtonIcon","useRef","useState","Loading","v4","uuidv4","jsxDEV","_jsxDEV","Fragment","_Fragment","UploadFileModal","toggleShow","confirm","_s","files","setFiles","fileInputRef","isProcess","setIsProcess","handleChooseFile","current","click","uploadDocument","e","target","prevFiles","handleFileRemove","indexToRemove","filter","_","index","handleConfirm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","type","ref","multiple","onClick","map","file","name","deleteFile","title","onPress","background","color","_c","$RefreshReg$"],"sources":["/Users/huudan/Development/chatbot.com/fe/src/components/upload_file_modal/UploadFileModal.js"],"sourcesContent":["import \"./UploadFileModal.scss\"\nimport FileItem from \"../file_item/FileItem\";\n\nimport TextButtonIcon from \"../icon_text_button/TextButtonIcon\";\nimport {useRef, useState} from \"react\";\nimport Loading from \"../loading/Loading\";\nimport {v4 as uuidv4} from \"uuid\";\nexport default function UploadFileModal({toggleShow, confirm}) {\n    const [files, setFiles] = useState([]);\n    const fileInputRef = useRef(null);\n    const [isProcess, setIsProcess] = useState(false);\n    const handleChooseFile = () => {\n        fileInputRef.current.click();\n    };\n    const uploadDocument = (e) => {\n        const files = e.target.files;\n        setFiles(prevFiles => [...prevFiles, ...files]);\n    }\n    const handleFileRemove = (indexToRemove) => {\n        setFiles(files.filter((_, index) => index !== indexToRemove));\n    };\n    const handleConfirm = async () => {\n        setIsProcess(true);\n        await confirm(files);\n        setIsProcess(false);\n    }\n    // useEffect(() => {\n    //     if (isProcess) {\n    //         const processFiles = async () => {\n    //             await confirm(files);\n    //             setIsProcess(false); // Turn off loading state after processing is done\n    //         };\n    //         processFiles();\n    //     }\n    // }, [isProcess, confirm, files]);\n    return (\n        <div className=\"overlay\">\n            <div className=\"new_bot__modal \">\n                <h2 className=\"title_form\">Thêm tài liệu</h2>\n                <form className={\"new_bot__modal-body\"}>\n                     <div className={\"form-field\"}>\n                        <label className={\"label\"}>Tải lên</label>\n                        <div className=\"input__wrapper\">\n                            <input className={\"input_file\"} onChange={uploadDocument} type={\"file\"} ref={fileInputRef} multiple/>\n                            <div onClick={handleChooseFile} className=\"upload\">\n                                <i className=\"bi bi-cloud-arrow-up-fill\"></i>\n                                <span className=\"input-title\">Bấm để tải lên</span>\n                                <span className=\"input-sub\">Tải lên file có dạng TXT, DOC, PDF</span>\n                            </div>\n                        </div>\n                        <div className=\"files_container\">\n                            {files.map((file, index)=><FileItem key={uuidv4()} fileName={file.name} deleteFile={()=>handleFileRemove(index)}/>)}\n                        </div>\n                    </div>\n                </form>\n                {isProcess && <>\n                    <div className={\"process_data\"}>\n                        <div className=\"loader_item\"></div>\n                        <div className=\"loader_item\"></div>\n                        <div className=\"loader_item\"></div>\n                        <div className=\"loader_item\"></div>\n                        <div className=\"loader_item\"></div>\n                        <div className=\"loader_item\"></div>\n                        <div className=\"loader_item\"></div>\n                        <div className=\"loader_item\"></div>\n                    </div>\n                    <div className={\"loading_label\"}>\n                        <span className={\"loading_label\"}>Đang xử lý dữ liệu...</span>\n                    </div>\n                </>}\n                <div className=\"new_bot__modal-footer\">\n                    <TextButtonIcon title={\"Hủy\"} onPress={toggleShow} background={\"#FFFFFF\"} color={\"#1C1C1C\"}/>\n                    {/*<TextButtonIcon title={\"Confirm\"} onPress={()=>confirm(files)}/>*/}\n                    <TextButtonIcon title={\"Xác nhận\"} onPress={handleConfirm}/>\n                </div>\n            </div>\n        </div>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}