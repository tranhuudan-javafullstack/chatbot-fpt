{"ast":null,"code":"var _jsxFileName = \"/Users/huudan/Development/chatbot.com/fe/src/page/home/HomePage.js\",\n  _s = $RefreshSig$();\nimport SideBar from \"../../components/draw_bar/SideBar\";\nimport \"./HomePage.scss\";\nimport { Outlet, useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { getUserInfo, verifyToken } from \"../../services/UserService\";\nimport { saveUserInfo } from \"../../store/actions/UserAction\";\nimport Loading from \"../../components/loading/Loading\";\nimport { decryptToken } from \"../../utils/Functions\";\nimport { Routers } from \"../../utils/Constants\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function HomePage(props) {\n  _s();\n  var _localStorage$getItem;\n  const accessToken = decryptToken((_localStorage$getItem = localStorage.getItem('access_token')) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : \"\");\n  const [isLoading, setIsLoading] = useState(true);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    handleVerifyToken();\n    fetchData();\n  }, [accessToken, navigate]);\n  const fetchData = async () => {\n    try {\n      const userInfo = await getUserInfo(accessToken);\n      dispatch(saveUserInfo(userInfo));\n      setIsLoading(false);\n    } catch (error) {\n      console.error('Error fetching user info:', error);\n    }\n  };\n  const handleVerifyToken = async () => {\n    try {\n      const verify = await verifyToken(accessToken);\n    } catch (error) {\n      // console.error('Error fetching user info:', error);\n      navigate(Routers.Login);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat\",\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 22\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"safe_area\",\n        children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 12\n  }, this);\n}\n_s(HomePage, \"veOGYpg2VZc4csEn0HkqGF9Wnx0=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n_c = HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["SideBar","Outlet","useNavigate","useDispatch","useEffect","useState","getUserInfo","verifyToken","saveUserInfo","Loading","decryptToken","Routers","jsxDEV","_jsxDEV","Fragment","_Fragment","HomePage","props","_s","_localStorage$getItem","accessToken","localStorage","getItem","isLoading","setIsLoading","dispatch","navigate","handleVerifyToken","fetchData","userInfo","error","console","verify","Login","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/huudan/Development/chatbot.com/fe/src/page/home/HomePage.js"],"sourcesContent":["import SideBar from \"../../components/draw_bar/SideBar\";\nimport \"./HomePage.scss\"\nimport {Outlet, useNavigate} from \"react-router-dom\";\nimport {useDispatch} from \"react-redux\";\nimport {useEffect, useState} from \"react\";\nimport {getUserInfo, verifyToken} from \"../../services/UserService\";\nimport {saveUserInfo} from \"../../store/actions/UserAction\";\nimport Loading from \"../../components/loading/Loading\";\nimport {decryptToken} from \"../../utils/Functions\";\nimport {Routers} from \"../../utils/Constants\";\n\nexport default function HomePage(props) {\n    const accessToken = decryptToken(localStorage.getItem('access_token') ?? \"\");\n    const [isLoading, setIsLoading] = useState(true);\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    useEffect(() => {\n        handleVerifyToken();\n        fetchData();\n    }, [accessToken, navigate]);\n    const fetchData = async () => {\n        try {\n            const userInfo = await getUserInfo(accessToken);\n            dispatch(saveUserInfo(userInfo));\n            setIsLoading(false);\n        } catch (error) {\n            console.error('Error fetching user info:', error);\n        }\n    };\n    const handleVerifyToken = async () =>{\n        try {\n            const verify = await verifyToken(accessToken);\n        } catch (error) {\n            // console.error('Error fetching user info:', error);\n            navigate(Routers.Login);\n        }\n    }\n    return(<div className={\"chat\"}>\n        {isLoading ? <Loading/>: <>\n            <SideBar/>\n            <div className={\"safe_area\"}>\n                {/*<HomeWelcome/>*/}\n                <Outlet/>\n            </div>\n        </>}\n    </div>)\n}"],"mappings":";;AAAA,OAAOA,OAAO,MAAM,mCAAmC;AACvD,OAAO,iBAAiB;AACxB,SAAQC,MAAM,EAAEC,WAAW,QAAO,kBAAkB;AACpD,SAAQC,WAAW,QAAO,aAAa;AACvC,SAAQC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,SAAQC,WAAW,EAAEC,WAAW,QAAO,4BAA4B;AACnE,SAAQC,YAAY,QAAO,gCAAgC;AAC3D,OAAOC,OAAO,MAAM,kCAAkC;AACtD,SAAQC,YAAY,QAAO,uBAAuB;AAClD,SAAQC,OAAO,QAAO,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9C,eAAe,SAASC,QAAQA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAAA,IAAAC,qBAAA;EACpC,MAAMC,WAAW,GAAGV,YAAY,EAAAS,qBAAA,GAACE,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,cAAAH,qBAAA,cAAAA,qBAAA,GAAI,EAAE,CAAC;EAC5E,MAAM,CAACI,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAMoB,QAAQ,GAAGtB,WAAW,CAAC,CAAC;EAC9B,MAAMuB,QAAQ,GAAGxB,WAAW,CAAC,CAAC;EAC9BE,SAAS,CAAC,MAAM;IACZuB,iBAAiB,CAAC,CAAC;IACnBC,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACR,WAAW,EAAEM,QAAQ,CAAC,CAAC;EAC3B,MAAME,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMvB,WAAW,CAACc,WAAW,CAAC;MAC/CK,QAAQ,CAACjB,YAAY,CAACqB,QAAQ,CAAC,CAAC;MAChCL,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACrD;EACJ,CAAC;EACD,MAAMH,iBAAiB,GAAG,MAAAA,CAAA,KAAW;IACjC,IAAI;MACA,MAAMK,MAAM,GAAG,MAAMzB,WAAW,CAACa,WAAW,CAAC;IACjD,CAAC,CAAC,OAAOU,KAAK,EAAE;MACZ;MACAJ,QAAQ,CAACf,OAAO,CAACsB,KAAK,CAAC;IAC3B;EACJ,CAAC;EACD,oBAAOpB,OAAA;IAAKqB,SAAS,EAAE,MAAO;IAAAC,QAAA,EACzBZ,SAAS,gBAAGV,OAAA,CAACJ,OAAO;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,gBAAE1B,OAAA,CAAAE,SAAA;MAAAoB,QAAA,gBACrBtB,OAAA,CAACb,OAAO;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eACV1B,OAAA;QAAKqB,SAAS,EAAE,WAAY;QAAAC,QAAA,eAExBtB,OAAA,CAACZ,MAAM;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA,eACR;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AACV;AAACrB,EAAA,CAnCuBF,QAAQ;EAAA,QAGXb,WAAW,EACXD,WAAW;AAAA;AAAAsC,EAAA,GAJRxB,QAAQ;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}